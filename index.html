<!doctype html>

<html lang="en">
	<head>
	  <meta charset="utf-8">

	  <title>Music</title>
	  <meta name="description" content="">
	  <meta name="author" content="">

	  <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->

	  <!--[if lt IE 9]>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
	  <![endif]-->
	  <style>
	    .container { text-align: center; padding-top: 0px;}
	    svg { border: 1px solid red; }
	    h3 { font-family: Avenir, sans-serif; margin-top: 50px;}
	    /*.vf-notehead > path {
	      fill: lime;
	    }*/
	    /*
	    works like a border, not sure if keeping or not
	    .vf-stavenote:hover {
	    	outline: 1px solid red;
	    }*/
	    .vf-notehead > path:hover {
	      fill: red;
	    }
	  </style>
	</head>

	<body>
	  <div id="json-song-container">
	    <div id="json-song"></div>
      <!-- TODO populate with only pitches from the song -->
	    <label for="pitchChoices">Pitch To Color</label>
	    <select id="pitchChoices" onchange="updatePitchChoice()">
	      <option value="none" selected>None</option>
	      <option value="c/4">C4</option>
	      <option value="d/4">D4</option>
	      <option value="e/4">E4</option>
	      <option value="f/4">F4</option>
	      <option value="g/4">G4</option>
	      <option value="a/4">A4</option>
	      <option value="b/4">B4</option>
	      <option value="c/5">C5</option>
	    </select>

      <label for="colorChoices">Color</label>
	    <select id="colorChoices" onchange="updateColorChoice()">
	    	<option value="black" selected>None</option>
	      <option value="red">Red</option>
	      <option value="orange">Orange</option>
	      <option value="lime">Lime</option>
	      <option value="aqua">Aqua</option>
	      <option value="blue">Blue</option>
	      <option value="#9B30FF">Purple</option>
	    </select>

	    <label for="durationChoices">Duration</label>
	    <select id="durationChoices" onchange="updateDurationChoice()">
	    	<option value="none" selected>None</option>
	      <option value="q">Quarter Notes</option>
	      <option value="h">Half Notes</option>
	      <option value="w">Whole Notes</option>
	    </select>

	    <button onclick="drawSongWithColors()">Color Notes</button>
	  </div>

		<script src="https://unpkg.com/vexflow/releases/vexflow-min.js"></script>
	  <script src="/assets/json-draw-song.js"></script>
	  <script>
      	function updatePitchChoice(){
      	  var chosenPitch = document.getElementById("pitchChoices").value;
      	  return chosenPitch;
        }

        function updateColorChoice(){
      	  var chosenColor = document.getElementById("colorChoices").value;
      	  return chosenColor;
        }

        function updateDurationChoice(){
      	  var chosenDuration = document.getElementById("durationChoices").value;
      	  return chosenDuration;
        }

        function createOptions(){
          return { containerId : 'json-song-container',
                   divId: 'json-song',
                   durationToColor: updateDurationChoice(),
                   pitchToColor: updatePitchChoice(),
                   color: updateColorChoice()
                 };
        }

        function drawSongWithColors(){
        	var options = createOptions();
        	drawSongToPage(options);
        }

        function drawInitialSong(){
        	var options = createOptions();
        	drawSongToPage(options);
        }

        drawInitialSong();
      </script>
	</body>
</html>
